# include<bits/stdc++.h>
# define endl '\n'
using namespace std;
# define ll long long
void solve(){
    ll n; cin >> n;
    vector<ll> a(n);
    for(ll i = 0; i < n; ++i) cin >> a[i];
    sort(a.rbegin(), a.rend());
    vector<ll> ans(n);
    for(ll i = 1; i < n; i+=2){
        ans[i] = a.back();
        a.pop_back();
    }
    for(ll i = 0; i < n; i+=2){
        ans[i] = a.back();
        a.pop_back();
    }
    ll cnt = 0;
    for(ll i = 1; i < n-1; i++){
        if (ans[i-1] > ans[i] && ans[i] < ans[i+1]) cnt++;
    }
    cout << cnt << endl;
    for(auto i:ans) cout << i << " ";
    cout << endl;
}
int main(){
    ios_base::sync_with_stdio(false);cin.tie(0);cout.tie(0);
    // ll t; cin >> t;
    ll t = 1;
    while (t--) solve();
    return 0;
}
